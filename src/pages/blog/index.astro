---
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";
import Layout from "../../layouts/Layout.astro";

const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Blog">
	<section class="container mx-auto flex gap-8">
		{
			posts.map(({ id, data: { title, description, pubDate } }) => (
				<article class="w-50%">
					<h2 class="text-2xl font-bold">{title}</h2>
					<FormattedDate class="text-gray-500" date={pubDate} />
					<p>{description}</p>
				</article>
			))
		}
	</section>
</Layout>
